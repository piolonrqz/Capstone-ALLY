# UPDATED AS OF 10/30/2025 FOR ALLY 3.0

# Swagger UI configuration
springdoc.swagger-ui.path=/swagger-ui.html
springdoc.api-docs.path=/api-docs
springdoc.swagger-ui.operationsSorter=method
springdoc.swagger-ui.tagsSorter=alpha
springdoc.swagger-ui.tryItOutEnabled=true
springdoc.swagger-ui.filter=true

spring.application.name=ally

server.port=8080

# CHANGE this to your own database connection
#spring.datasource.url=jdbc:mysql://localhost:3306/ally
#spring.datasource.username=root
#spring.datasource.password=1234

# Railway Database Configuration
spring.datasource.url=${DB_URL}
spring.datasource.username=root
spring.datasource.password=${DB_PASSWORD}
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver
logging.level.org.springframework.security=DEBUG
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true


# OAuth2 Client Configuration
spring.security.oauth2.client.registration.google.client-id=${GOOGLE_CLIENT_ID}
spring.security.oauth2.client.registration.google.client-secret=${GOOGLE_CLIENT_SECRET}
spring.security.oauth2.client.registration.google.scope=https://www.googleapis.com/auth/userinfo.email,https://www.googleapis.com/auth/userinfo.profile,https://www.googleapis.com/auth/contacts,https://www.googleapis.com/auth/contacts.readonly,profile
spring.security.oauth2.client.registration.google.redirect-uri=http://localhost:8080/login/oauth2/code/google

server.error.include-stacktrace=never

# TEST AI - Gemini Flash 2.0
spring.ai.openai.chat.base-url=https://generativelanguage.googleapis.com
spring.ai.openai.chat.completions-path=/v1beta/openai/chat/completions
spring.ai.openai.api-key=${GEMINI_API_KEY}
spring.ai.openai.chat.options.model=gemini-2.0-flash

# FOR DEPLOYMENT - Use the path where Render mounts the secret file
# firebase.service.account.path=file:/etc/secrets/studyspace-firebasesdk.json

#for local development
# Firebase config
firebase.service.account.path=${FIREBASE_KEY_PATH:classpath:ally-firebasesdk.json}
firebase.storage.bucket=${FIREBASE_STORAGE_BUCKET:ally-1d4e6.firebasestorage.app}
storage.type=firebase

management.endpoints.web.exposure.include=health,info
management.endpoint.health.show-details=always

google.service.account.path=${GOOGLE_SERVICE_ACCOUNT_PATH:classpath:service-account-key.json}

# Firebase Configuration
firebase.storage.weka.data.folder=weka/data
firebase.storage.weka.models.folder=weka/models

# Temporary directory to store downloads/models locally
weka.temp.path=${java.io.tmpdir}/weka

# ALLY 3.0 - Integration with Google Gemini AI Flash 2.0-lite and RAG
google.project-id=majestic-disk-480605-n9
google.model-id=5732720586317103104

# RAG Service Configuration
rag.service.url=${RAG_URL}
rag.service.timeout=30000
rag.relevace.threshold=54.0
# Logging for debugging
logging.level.com.google.cloud=DEBUG
logging.level.com.wachichaw=DEBUG


# Email Configuration
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=allylegal.cit@gmail.com
spring.mail.protocol=smtp
spring.mail.password=hbhe jhvq dsil pgsa
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.debug=true
spring.mail.properties.mail.smtp.starttls.enabled=true
spring.mail.properties.mail.smtp.starttls.required=true

frontend.url=${FRONTEND_URL}